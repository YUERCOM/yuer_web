$(function(){ 
	divHieght();
	window.onresize=function(){
		divHieght();
	}
	
	//一级菜单点击事件
	$(".yuer_first_menu").click(function(){
		//隐藏class为childDiv的子菜单
		$(".yuer_childDiv").slideUp();
		//alert($(this).next().attr("class"));
		var nextClass = $(this).next().attr("class");
		//判断下一个元素的class是否是childDiv  并显示指定菜单
		if (nextClass.indexOf("yuer_childDiv") >= 0) {
			if($(this).next().css("display") == "block"){
				$(this).next().slideUp();
			}else{
				$(this).next().css("background"," #4B5F7D");
				$(this).next().slideDown();
			}
		}
	});

	//功能菜单点击事件  使用class为.true_menu的元素为功能元素
	$(".true_menu").click(function(){
		$(".true_menu").removeClass("yuer_select_menu");
		$(this).addClass("yuer_select_menu");
		$("#yuer_body_iframe").attr("src",$(this).attr("frame_url"));
	});

	//关闭弹框
	$(".yuer_cancel").click(function(){
		$(this).parent().parent().yuerDialog("hide");
	});

});
//自适应宽高
function divHieght(){
	$("#yuer_body_index").height(document.documentElement.clientHeight);
	$("#yuer_body_left").height(document.documentElement.clientHeight-60);
	$("#yuer_body_right").height(document.documentElement.clientHeight-90);

	$("#yuer_iframe_body_div").height(document.documentElement.clientHeight);
}


(function($) {
	//创建一个遮罩DIV
	var yuer_full_screen_div = document.createElement('div');
	yuer_full_screen_div.id = "yuer_full_screen_div";
	yuer_full_screen_div.style.cssText = "width:100%;height:100%;position:absolute;top:0px;background-color:#000;opacity:0.5;-moz-opacity:0.5;filter:alpha(opacity=50);z-index:1;";
	
 	//创建一个名为yuerDialog的弹框插件
	$.fn.yuerDialog = function(option) {
		if(option == "show"){
			//计算弹出层居左多少px可以使其居中显示
			var leftpx = (this.parent().width() - this.width()) / 2;
			this.css("display","block");
			this.css("left",leftpx + "px");

			var yuer_dialog_top_height = this.children(".yuer_dialog_top").height();
			var yuer_dialog_bottom_height = this.children(".yuer_dialog_bottom").height();
			var yuer_dialog_content_height = 0;
			if(yuer_dialog_top_height == "undefined" && yuer_dialog_bottom_height != "undefined"){
				yuer_dialog_content_height = (this.height() - yuer_dialog_bottom_height);
			}else if(yuer_dialog_top_height != "undefined" && yuer_dialog_bottom_height == "undefined"){
				yuer_dialog_content_height = (this.height() - yuer_dialog_top_height);
			}else if(yuer_dialog_top_height != "undefined" && yuer_dialog_bottom_height != "undefined"){
				yuer_dialog_content_height = (this.height() - yuer_dialog_top_height - yuer_dialog_bottom_height);
			}else{
				yuer_dialog_content_height = this.height();
			}
			this.children(".yuer_dialog_content").height(yuer_dialog_content_height);
			
			this.children(".yuer_dialog_top").children(".yuer_dialog_top_msg").width(this.width()-80);
			this.after(yuer_full_screen_div);
		}else if(option == "hide"){
			this.css("display","none");
			$("#yuer_full_screen_div").remove();
		}else{
			this.css("display","none");
			$("#yuer_full_screen_div").remove();
		}
	}
	$.fn.yuerMsgDialog = function(option,type,msg){
		/**
		 * option : show(显示)、hide(隐藏) 默认隐藏
		 * type : error(错误提示)、info(一般提示)、confirm(确认提示) 默认一般提示
		 * msg : 提示信息
		 */
		if(option == "show"){
			var leftpx = (this.parent().width() - this.width()) / 2;
			this.css("display","block");
			this.css("left",leftpx + "px");

			var yuer_dialog_msg_top_div = document.createElement('div');
			yuer_dialog_msg_top_div.id = "yuer_dialog_msg_top_div";
			yuer_dialog_msg_top_div.style.cssText = "width:100%;height:40px;border-bottom:1px solid #E3E6EC;float:left;line-height:40px;border-radius:10px 10px 0px 0px;";
			yuer_dialog_msg_top_div.innerText = "错误";
			this.append(yuer_dialog_msg_top_div);

		}else if(option == "hide"){
			this.css("display","none");
			$("#yuer_full_screen_div").remove();
			$("#yuer_dialog_msg_top_div").remove();
		}else{
			this.css("display","none");
			$("#yuer_full_screen_div").remove();
			$("#yuer_dialog_msg_top_div").remove();
		}
		this.after(yuer_full_screen_div);
	}
	 
})(jQuery)
